import{d as o,w as l}from"./index.DX7MBHDS.js";import{s as e}from"./supabase.C3Npp-7Q.js";function c(){const{subscribe:r,set:n,update:d}=l({user:null,session:null,loading:!0});return{subscribe:r,set:n,async initialize(){try{const{data:{session:t}}=await e.auth.getSession();n({user:(t==null?void 0:t.user)??null,session:t,loading:!1}),e.auth.onAuthStateChange((s,a)=>{n({user:(a==null?void 0:a.user)??null,session:a,loading:!1})})}catch(t){console.error("Auth initialization error:",t),n({user:null,session:null,loading:!1})}},async signIn(t,s){const{data:a,error:i}=await e.auth.signInWithPassword({email:t,password:s});if(i)throw i;return a},async signOut(){const{error:t}=await e.auth.signOut();if(t)throw t}}}const u=c(),f=o(u,r=>!!r.user),w=o(u,r=>r.loading);export{w as a,u as b,f as i};
